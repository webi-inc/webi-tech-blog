---
title: "Project Loomì˜ Virtual Threads: Java ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°ì˜ ìƒˆë¡œìš´ íŒ¨ëŸ¬ë‹¤ì„"
date: 2025-12-31 21:36:01 +0900
categories: ['Development', 'Backend']
tags: [java, project-loom, virtual-threads, concurrency, performance]
image:
  path: "/assets/img/2025-12-31-project-looms-virtual-threads-rethinking-concurrency-in-java-8662.jpg"
published: true
---

## 3ì¤„ ìš”ì•½
- Project Loomì˜ Virtual ThreadsëŠ” ê°„ë‹¨í•œ ë¸”ë¡œí‚¹ ì½”ë“œì™€ ë†’ì€ í™•ì¥ì„±ì„ ë™ì‹œì— ì œê³µí•˜ì—¬ Java ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°ì˜ ì˜¤ë˜ëœ ë”œë ˆë§ˆë¥¼ í•´ê²°í•©ë‹ˆë‹¤.
- ê¸°ì¡´ í”Œë«í¼ ìŠ¤ë ˆë“œì™€ ë‹¬ë¦¬ Virtual ThreadsëŠ” ê²½ëŸ‰í™”ë˜ì–´ ìˆ˜ë°±ë§Œ ê°œì˜ ë™ì‹œ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë³µì¡í•œ ë¹„ë™ê¸° í”„ë ˆì„ì›Œí¬ ì—†ì´ë„ ë†’ì€ ì²˜ë¦¬ëŸ‰ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë™ì‹œì— ë‹¬ì„±í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ë°©ë²•ì„ ì œì‹œí•©ë‹ˆë‹¤.

## ğŸ“Œ ì£¼ìš” ë‚´ìš©

### Java ë™ì‹œì„±ì˜ ì „í†µì ì¸ ë”œë ˆë§ˆ

ìˆ˜ì‹­ ë…„ ë™ì•ˆ Java ê°œë°œìë“¤ì€ ë¶ˆí¸í•œ ì„ íƒì˜ ê¸°ë¡œì— ì„œ ìˆì—ˆìŠµë‹ˆë‹¤. í•œìª½ì—ëŠ” ì‘ì„±í•˜ê¸° ì‰½ê³  ìœ ì§€ë³´ìˆ˜ê°€ ê°„í¸í•˜ì§€ë§Œ í™•ì¥ì„±ì´ ë–¨ì–´ì§€ëŠ” ë‹¨ìˆœí•œ ë¸”ë¡œí‚¹ ì½”ë“œê°€ ìˆì—ˆê³ , ë‹¤ë¥¸ í•œìª½ì—ëŠ” ë›°ì–´ë‚œ í™•ì¥ì„±ì„ ì œê³µí•˜ì§€ë§Œ ë””ë²„ê¹…ê³¼ ì´í•´ê°€ ì–´ë ¤ìš´ ë³µì¡í•œ ë¹„ë™ê¸° í”„ë ˆì„ì›Œí¬ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

ì „í†µì ì¸ Java ìŠ¤ë ˆë“œ ëª¨ë¸ì—ì„œëŠ” ê° ìŠ¤ë ˆë“œê°€ ìš´ì˜ì²´ì œì˜ í”Œë«í¼ ìŠ¤ë ˆë“œì— 1:1ë¡œ ë§¤í•‘ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ í”Œë«í¼ ìŠ¤ë ˆë“œëŠ” ë©”ëª¨ë¦¬ ì˜¤ë²„í—¤ë“œê°€ í¬ê³  ìƒì„± ë¹„ìš©ì´ ë†’ì•„, ë™ì‹œì— ìˆ˜ì²œ ê°œ ì´ìƒì˜ ìŠ¤ë ˆë“œë¥¼ ìš´ì˜í•˜ëŠ” ê²ƒì´ í˜„ì‹¤ì ìœ¼ë¡œ ì–´ë ¤ì› ìŠµë‹ˆë‹¤.

### Virtual Threadsì˜ ë“±ì¥

Project Loomì€ ì´ëŸ¬í•œ ê·¼ë³¸ì ì¸ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ íƒ„ìƒí–ˆìŠµë‹ˆë‹¤. Virtual ThreadsëŠ” JVMì´ ê´€ë¦¬í•˜ëŠ” ê²½ëŸ‰ ìŠ¤ë ˆë“œë¡œ, ìš´ì˜ì²´ì œ ìŠ¤ë ˆë“œì™€ëŠ” ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤. ì´ëŠ” Go ì–¸ì–´ì˜ ê³ ë£¨í‹´(Goroutine)ì´ë‚˜ Kotlinì˜ ì½”ë£¨í‹´(Coroutine)ê³¼ ìœ ì‚¬í•œ ê°œë…ì…ë‹ˆë‹¤.

Virtual Threadsì˜ í•µì‹¬ íŠ¹ì§•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- **ê²½ëŸ‰í™”**: ê° Virtual ThreadëŠ” ìˆ˜ì‹­ KBì˜ ë©”ëª¨ë¦¬ë§Œ ì†Œë¹„í•˜ì—¬, ìˆ˜ë°±ë§Œ ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ë™ì‹œì— ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **íˆ¬ëª…í•œ ë¸”ë¡œí‚¹**: ë¸”ë¡œí‚¹ I/O ì‘ì—… ì‹œ ìš´ì˜ì²´ì œ ìŠ¤ë ˆë“œë¥¼ ì ìœ í•˜ì§€ ì•Šê³  ìë™ìœ¼ë¡œ ì–¸ë§ˆìš´íŠ¸ë©ë‹ˆë‹¤.
- **ê¸°ì¡´ ì½”ë“œ í˜¸í™˜ì„±**: ê¸°ì¡´ Thread APIë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ ë ˆê±°ì‹œ ì½”ë“œë¥¼ ì‰½ê²Œ ë§ˆì´ê·¸ë ˆì´ì…˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Virtual Threadsì˜ ë™ì‘ ì›ë¦¬

Virtual ThreadsëŠ” M:N ìŠ¤ì¼€ì¤„ë§ ëª¨ë¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì¦‰, ë§ì€ ìˆ˜ì˜ Virtual Threadsê°€ ì†Œìˆ˜ì˜ í”Œë«í¼ ìŠ¤ë ˆë“œ(ìºë¦¬ì–´ ìŠ¤ë ˆë“œ)ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤. Virtual Threadê°€ ë¸”ë¡œí‚¹ ì‘ì—…ì„ ë§Œë‚˜ë©´:

1. JVMì´ ìë™ìœ¼ë¡œ í•´ë‹¹ Virtual Threadë¥¼ ìºë¦¬ì–´ ìŠ¤ë ˆë“œì—ì„œ ë¶„ë¦¬(unmount)í•©ë‹ˆë‹¤.
2. ìºë¦¬ì–´ ìŠ¤ë ˆë“œëŠ” ë‹¤ë¥¸ ì‹¤í–‰ ê°€ëŠ¥í•œ Virtual Threadë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
3. ë¸”ë¡œí‚¹ ì‘ì—…ì´ ì™„ë£Œë˜ë©´ Virtual Threadê°€ ë‹¤ì‹œ ìºë¦¬ì–´ ìŠ¤ë ˆë“œì— ë§ˆìš´íŠ¸ë©ë‹ˆë‹¤.

ì´ ê³¼ì •ì€ ê°œë°œìì—ê²Œ ì™„ì „íˆ íˆ¬ëª…í•˜ê²Œ ì²˜ë¦¬ë˜ì–´, ë™ê¸°ì  ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ì„œë„ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì˜ ì„±ëŠ¥ ì´ì ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

Virtual Threadë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì€ ë§¤ìš° ê°„ë‹¨í•©ë‹ˆë‹¤:

```java
// ì „í†µì ì¸ í”Œë«í¼ ìŠ¤ë ˆë“œ
Thread platformThread = new Thread(() -> {
    // ì‘ì—… ìˆ˜í–‰
});

// Virtual Thread
Thread virtualThread = Thread.startVirtualThread(() -> {
    // ì‘ì—… ìˆ˜í–‰
});
```

ExecutorServiceì™€ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:

```java
try (var executor = Executors.newVirtualThreadPerTaskExecutor()) {
    for (int i = 0; i < 1_000_000; i++) {
        executor.submit(() -> {
            // ê° ì‘ì—…ì´ Virtual Threadì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤
        });
    }
}
```

### ì„±ëŠ¥ ë° í™•ì¥ì„± ê°œì„ 

Virtual ThreadsëŠ” íŠ¹íˆ I/O ë°”ìš´ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê·¹ì ì¸ ì„±ëŠ¥ í–¥ìƒì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬, REST API í˜¸ì¶œ, íŒŒì¼ I/O ë“±ì´ ë§ì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ìˆ˜ì‹­ ë°°ì˜ ì²˜ë¦¬ëŸ‰ ì¦ê°€ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ì „í†µì ì¸ ìŠ¤ë ˆë“œ í’€ ëª¨ë¸ì—ì„œëŠ” ìŠ¤ë ˆë“œ ìˆ˜ê°€ ì œí•œë˜ì–´ ìˆì–´ ë™ì‹œ ìš”ì²­ì´ ë§ì•„ì§€ë©´ ëŒ€ê¸° ì‹œê°„ì´ ì¦ê°€í–ˆì§€ë§Œ, Virtual Threadsë¥¼ ì‚¬ìš©í•˜ë©´ ê° ìš”ì²­ë§ˆë‹¤ ì „ìš© ìŠ¤ë ˆë“œë¥¼ í• ë‹¹í•´ë„ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

## ğŸ‘¨â€ğŸ’» ê°œë°œìì—ê²Œ ë¯¸ì¹˜ëŠ” ì˜í–¥

Project Loomì˜ Virtual ThreadsëŠ” Java ìƒíƒœê³„ì— í˜ëª…ì ì¸ ë³€í™”ë¥¼ ê°€ì ¸ì˜¬ ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤. ê°œë°œìë“¤ì€ ë” ì´ìƒ ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°(Reactive Programming)ì´ë‚˜ CompletableFutureì™€ ê°™ì€ ë³µì¡í•œ ë¹„ë™ê¸° íŒ¨í„´ì„ ê°•ì œë¡œ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

**ê°„ê²°ì„±ê³¼ ì„±ëŠ¥ì˜ ì–‘ë¦½**: ì½ê¸° ì‰½ê³  ë””ë²„ê¹…í•˜ê¸° ì‰¬ìš´ ìˆœì°¨ì  ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ì„œë„, ë†’ì€ ë™ì‹œì„±ê³¼ ì²˜ë¦¬ëŸ‰ì„ ë‹¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì½”ë“œ í’ˆì§ˆê³¼ ê°œë°œ ìƒì‚°ì„±ì„ ë™ì‹œì— í–¥ìƒì‹œí‚µë‹ˆë‹¤.

**í•™ìŠµ ê³¡ì„  ì™„í™”**: ì‹ ê·œ ê°œë°œìë“¤ì´ ë³µì¡í•œ ë¹„ë™ê¸° í”„ë ˆì„ì›Œí¬ë¥¼ í•™ìŠµí•˜ëŠ” ë¶€ë‹´ì´ ì¤„ì–´ë“¤ë©°, ì „í†µì ì¸ ë™ê¸° ì½”ë“œ ì‘ì„± ë°©ì‹ìœ¼ë¡œë„ í™•ì¥ ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ê¸°ì¡´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ì˜ í˜¸í™˜ì„±**: Spring Framework, JDBC, Hibernate ë“± ì£¼ìš” Java í”„ë ˆì„ì›Œí¬ë“¤ì´ ì´ë¯¸ Virtual Threadsë¥¼ ì§€ì›í•˜ê±°ë‚˜ ì§€ì› ê³„íšì„ ë°œí‘œí–ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ê¸°ì¡´ ì½”ë“œë² ì´ìŠ¤ë¥¼ í¬ê²Œ ìˆ˜ì •í•˜ì§€ ì•Šê³ ë„ Virtual Threadsì˜ ì´ì ì„ ëˆ„ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¨, ì£¼ì˜í•  ì ë„ ìˆìŠµë‹ˆë‹¤. synchronized ë¸”ë¡ì´ë‚˜ ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œ í˜¸ì¶œ ì‹œì—ëŠ” Virtual Threadê°€ ì–¸ë§ˆìš´íŠ¸ë˜ì§€ ì•Šì•„ ì„±ëŠ¥ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš° ReentrantLockê³¼ ê°™ì€ ëŒ€ì•ˆì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.

> [ì›ë¬¸ ê¸°ì‚¬ ë³´ê¸°](https://www.javacodegeeks.com/2025/12/project-looms-virtual-threads-rethinking-concurrency-in-java.html)